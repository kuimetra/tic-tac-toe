!function(){"use strict";var e=function(e,n){e.insertAdjacentHTML("beforeend",'<div class="'.concat(n,'"></div>'))},n=function(e,n){document.getElementById(e).classList.add("highlight-player-name"),document.getElementById(n).classList.remove("highlight-player-name")},t=function(e){document.getElementById("winner-message").innerText=e,document.getElementById("winner-message-background").classList.add("show-winner-messagebox")},r=Math.round(Math.random()),o={turnIndex:r,resetTurnIndex:function(){this.turnIndex=r},playerSign:r?"x":"o",computerSign:r?"o":"x",getPlayerClassName:function(){return r?"cross":"nought"},getComputerClassName:function(){return r?"nought":"cross"},playerScores:0,computerScores:0,resetScores:function(){this.playerScores=0,this.computerScores=0},playerPositions:[],computerPositions:[],resetPositions:function(){this.playerPositions=[],this.computerPositions=[]}},i=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s=prompt("Enter your name:").trim()||"You";document.getElementById("player-username").innerText="".concat(s," (").concat(o.playerSign,")"),document.getElementById("computer-username").innerText="Computer (".concat(o.computerSign,")");var u,a=document.querySelectorAll(".square"),m=1e3,l=!1;window.onload=function(){d()};var d=function(){o.resetTurnIndex(),E(),0===o.turnIndex&&setTimeout(f,m)},f=function(){var n,r,i=(n=(r=Array(9).keys(),function(e){if(Array.isArray(e))return c(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return!o.playerPositions.includes(e)&&!o.computerPositions.includes(e)})))[Math.floor(Math.random()*n.length)];l||0!==a[i].children.length||(e(a[i],o.getComputerClassName()),o.computerPositions.push(i),p(o.computerPositions)?(o.computerScores++,h(),setTimeout((function(){t("Computer won!")}),m),I()):y()?g():(o.turnIndex++,E()))},p=function(e){return i.forEach((function(n){n.every((function(n){return e.includes(n)}))&&(u=n)})),!!u},y=function(){return o.playerPositions.length+o.computerPositions.length===9},g=function(){o.playerScores++,o.computerScores++,h(),setTimeout((function(){t("Draw!")}),m),I()},h=function(){document.getElementById("player-score").innerText=o.playerScores.toString(),document.getElementById("computer-score").innerText=o.computerScores.toString()},I=function(){o.resetPositions(),v(),u=void 0,l=!0},S=function(){a.forEach((function(e){e.innerHTML=""})),l=!1},E=function(){0===o.turnIndex?n("computer-username","player-username"):1===o.turnIndex&&n("player-username","computer-username")},v=function(){u&&u.forEach((function(e){a[e].childNodes[0].classList.add("zoom")}))};a.forEach((function(n,r){n.addEventListener("click",(function(n){var i,c;l||1!==o.turnIndex||0!==n.currentTarget.children.length||(i=n.currentTarget,c=r,e(i,o.getPlayerClassName()),o.playerPositions.push(c),p(o.playerPositions)?(o.playerScores++,h(),setTimeout((function(){t("".concat(s," won!"))}),m),I()):y()?g():(setTimeout(f,m),o.turnIndex--,E()))}))})),document.getElementById("continue-btn").addEventListener("click",(function(){return document.getElementById("winner-message-background").classList.remove("show-winner-messagebox")})),document.getElementById("new-game-btn").addEventListener("click",(function(){I(),S(),d()})),document.getElementById("reset-btn").addEventListener("click",(function(){I(),S(),o.resetScores(),h(),d()}))}();